{% extends layout %}

{% block content %}

<header class="grid_8 alpha omega">
    <hgroup>
      {{ 'my.account.header'|trans({}, 'account')|raw }}
    </hgroup>
</header>

<div class="grid_8 alpha omega">
	<div class="grid_6 alpha">
		<h1>{{ 'my.account.%name%'|trans({'%name%' : user.FirstName|capitalize }, 'account') }}</h1>

		{% if app.session.hasFlash('notice') %}
		<div class="message notice">
		  {{ app.session.flash('notice')|trans({}, 'account') }}
		</div>
		{% endif %}

      	{{ 'my.account.description'|trans({}, 'account')|raw }}
	</div>
	<div class="grid_2 omega">
		
		<aside>
			<h3>{{ 'my.account'|trans({}, 'account') }}</h3>
			<ul>
			  <li><a href="{{ path('_account_edit') }}">» {{ 'account.details'|trans({}, 'account') }}</a></li>
			  <li><a href="{{ path('logout') }}">» {{ 'my.account.logout'|trans({}, 'account') }}</a></li>
			</ul>
		</aside>

		<aside id="account-block-newsletter-all">
			<h3>{{ 'newsletter'|trans({}, 'account') }}</h3>
			{% render 'NewsletterBundle:Default:allLists' %}
		</aside>
	</div>
</div>

<div class="grid_8 alpha omega">
	
	<h3>{{ 'previous.orders'|trans({}, 'account') }}</h3>
	{% render 'AccountBundle:History:block' with { 'route' : app.request.attributes.get('_route') } %}

	{% render 'EventsBundle:Events:list' %}

</div>






{% endblock %}
