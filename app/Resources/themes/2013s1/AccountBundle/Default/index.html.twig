{% extends layout %}
{% block content %}

<header class="grid_8 alpha omega">
    <hgroup>
      {{ 'my.account.header'|trans({}, 'account')|raw }}
    </hgroup>
</header>
<article class="grid_8 alpha omega">
	<div class="grid_5 alpha">
		<h1>{{ 'my.account.%name%'|trans({'%name%' : user.FirstName|capitalize }, 'account') }}</h1>

		{% for message in app.session.flashbag.get('notice') %}
		<div class="message notice">
		  {{ message|trans({}, 'account') }}
		</div>
		{% endfor %}

    {{ 'my.account.description'|trans({}, 'account')|raw }}
	</div>
	<div class="grid_2 push_1 omega">
		{{ include('AccountBundle:Default:aside.html.twig') }}

    {% if 'my.account.legends'|trans({}, 'account') != 'my.account.legends' %}

      <aside class="legends">
        <h3>{{ 'my.account.legends.header'|trans({}, 'account') }}</h3>
        {{ 'my.account.legends'|trans({}, 'account')|raw }}
      </aside>
    {% endif %}

	</div>

	<div class="grid_8 alpha omega bottom-space">
		<h3>{{ 'previous.orders'|trans({}, 'account') }}</h3>
		{{ render(controller('AccountBundle:History:block', {
            'route' : app.request.attributes.get('_route')
        })) }}
	</div>
</article>

{% endblock %}
