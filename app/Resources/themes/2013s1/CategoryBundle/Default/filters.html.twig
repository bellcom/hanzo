{# Remember to update the mobile version #}
{% if app.request.attributes.get('_route') %}
<form action="{{ url(app.request.attributes.get('_route')) }}" class="js-faceted-form">
  <nav class="menu clearfix main-menu filters-dropdowns">
    <ul class="outer">

      <li class="first">
        <div>{{ 'faceted.dropdown.size'|trans({}, 'category') }}<span class="fa fa-angle-down"></span></div>
        <ul class="js-filter-type-size">
          {% for size in size_mapping %}
          <li class="inactive item {% if loop.first %}first{% elseif loop.last %}last{% endif %}"><input data-group="size" data-name="{{ size }}" type="checkbox" name="size[]" value="{{ size }}" id="size_{{ size|tag_safe }}"/> <label for="size_{{ size|tag_safe }}"> {{ size }}</label></li>
          {% endfor %}
          <li class="clearfix"></li>
          <li><a href="size" class="js-filter-clear-dropdown">{{ 'faceted.clear_all'|trans({}, 'category') }}</a><span class="fa fa-angle-up"></span></li>
        </ul>
      </li>

      <li>
        <div>{{ 'faceted.dropdown.color'|trans({}, 'category') }}<span class="fa fa-angle-down"></span></div>
        <ul class="js-filter-type-color">
          {% for color in color_mapping %}
          <li class="inactive item {% if loop.first %}first{% elseif loop.last %}last{% endif %}"><input data-group="color" data-name="{{ color }}" type="checkbox" name="color[]" value="{{ color|tag_safe({' & ': ' - '}) }}" id="color_{{ color|tag_safe }}"/> <label for="color_{{ color|tag_safe }}"> {{ color }}</label></li>
          {% endfor %}
          <li class="clearfix"></li>
          <li><a href="color" class="js-filter-clear-dropdown">{{ 'faceted.clear_all'|trans({}, 'category') }}</a><span class="fa fa-angle-up"></span></li>
        </ul>
      </li>

      <li class="last fix-long-eco-name">
        <div>{{ 'faceted.dropdown.eco'|trans({}, 'category') }}<span class="fa fa-angle-down"></span></div>
        <ul class="js-filter-type-eco">
          {% for token in token_mapping %}{# Note: value is prefixed with 'token-' as this is the value in the db  #}
          <li class="inactive item {% if loop.first %}first{% elseif loop.last %}last{% endif %}"><input data-group="eco" data-name="{{ token.name }}" type="checkbox" name="eco[]" value="token-{{ token.value|tag_safe({' & ': ' - '}) }}" id="token_{{ token.name|tag_safe }}"/> <label for="token_{{ token.name|tag_safe }}"> {{ token.name }}</label></li>
          {% endfor %}
          <li class="clearfix"></li>
          <li><a href="eco" class="js-filter-clear-dropdown">{{ 'faceted.clear_all'|trans({}, 'category') }}</a><span class="fa fa-angle-up"></span></li>
        </ul>
      </li>

    </ul>
  </nav>
</form>
{% endif %}
