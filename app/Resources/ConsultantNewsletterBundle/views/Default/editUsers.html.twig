{% extends layout %}

{% block content %}
<nav class="sub">
  <ul>
    <li>
      <a href="{{ path('consultantnewsletter') }}">
        {{ 'consultant.newsletter.link'|trans({}, 'consultant') }}
      </a>
    </li>
    <li>
      <a href="{{ path('consultantnewsletter_import') }}">
        {{ 'consultant.newsletter.import.users.link'|trans({}, 'consultant') }}
      </a>
    </li>
    <li>
      <a href="{{ path('consultantnewsletter_edit_users') }}">
        {{ 'consultant.newsletter.edit.users.link'|trans({}, 'consultant') }}
      </a>
    </li>
    <li>
      <a href="{{ path('consultantnewsletter_history') }}">
        {{ 'consultant.newsletter.history.link'|trans({}, 'consultant') }}
      </a>
    </li>
  </ul>
</nav>

<h1>{{ 'consultant.newsletter.edit.users.header.text'|trans({}, 'consultant') }}</h1>

{% if app.session.hasFlash('notice') %}
<div class="message notice">
  {{ app.session.flash('notice')|trans({}, 'events') }}
</div>
{% endif %}

{% if subscribed_users %}
  <ul id="subscribed-users">
    {% for user in subscribed_users %}
      <li>{{ user.email }} <a href="{{ path('consultantnewsletter_unsubscribe_user', {'userId' : user.id }) }}" class="delete">{{ 'consultant.newsletter.delete.user'|trans({}, 'consultant') }}</a></li>
    {% endfor %}
  </ul>
{% endif %}

{% endblock %}

{% block javascript %}
{% endblock %}